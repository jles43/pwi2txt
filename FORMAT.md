# Исследование формата файла

## Где находится текст

Текст находится в строках. Каждая строка начинается с байтовой последовательности `e5 01 00 e6 0a 00` (LINE_START),
за которой следует текст, и заканчивается байтовой последовательностью `c4 00` (LINE_END). После LINE_END расположена
некоторая ещё не определённая структура, возможно, данные о форматировании строки, начинающаяся с байтовой
последовательности `42 00` (пока обозначим её LINE_FORMAT). Последовательности LINE_START и LINE_FORMAT выравнены
на границу 4 байт.

## Как кодируется ASCII

Символы из нижней половины кодовой страницы (с кодами меньше 128) кодируются одним байтом, т.е., например, пробел
представлен байтом `20`, буква g - байтом `67`.

## Как кодируется кириллица

Каждый символ кириллицы кодируется двумя байтами. Буква "В" представлена байтами `92 10`, буква "е" - байтами `b5 10`,
буква "н" - `bd 10`, "у" - `83 11`, и т.д.

Кириллические буквы сведены в таблицу, в столбце PWI записаны байтовые последовательности букв, которые присутствовали
в имеющихся экземплярах файлов .PWI. Довольно очевидно следующее:

* первый байт из кодировки PWI совпадает со вторым байтом UTF-8

* второй байт из кодировки PWI в младших 6 битах совпадает с первым байтом UTF-8

* старшие два бита второго байта PWI-кодировки равны нулю, старшие 2 бита первого байта кодировки UTF-8 равны единице

|Буква|UTF-8|PWI|
|:---:|:----|:--|
|А|d0 90||
|Б|d0 91||
|В|d0 92|92 10|
|Г|d0 93||
|Д|d0 94||
|Е|d0 95||
|Ж|d0 96||
|З|d0 97||
|И|d0 98||
|Й|d0 99||
|К|d0 9a||
|Л|d0 9b||
|М|d0 9c||
|Н|d0 9d||
|О|d0 9e||
|П|d0 9f||
|Р|d0 a0||
|С|d0 a1||
|Т|d0 a2||
|У|d0 a3||
|Ф|d0 a4||
|Х|d0 a5||
|Ц|d0 a6||
|Ч|d0 a7||
|Ш|d0 a8||
|Щ|d0 a9||
|Ъ|d0 aa||
|Ы|d0 ab||
|Ь|d0 ac||
|Э|d0 ad||
|Ю|d0 ae||
|Я|d0 af||
|а|d0 b0|b0 10|
|б|d0 b1|b1 10|
|в|d0 b2|b2 10|
|г|d0 b3||
|д|d0 b4|b4 10|
|е|d0 b5|b5 10|
|ж|d0 b6|b6 10|
|з|d0 b7|b7 10|
|и|d0 b8|b8 10|
|й|d0 b9|b9 10|
|к|d0 ba|ba 10|
|л|d0 bb|bb 10|
|м|d0 bc||
|н|d0 bd|bd 10|
|о|d0 be|be 10|
|п|d0 bf||
|р|d1 80|80 11|
|с|d1 81|81 11|
|т|d1 82|82 11|
|у|d1 83|83 11|
|ф|d1 84|84 11|
|х|d1 85||
|ц|d1 86||
|ч|d1 87||
|ш|d1 88||
|щ|d1 89||
|ъ|d1 8a||
|ы|d1 8b||
|ь|d1 8c||
|э|d1 8d||
|ю|d1 8e|8e 11|
|я|d1 8f||
|Ё|d0 81||
|ё|d1 91|91 11|
